// @ts-nocheck
const User=require("../models/User"),Sport=require("../models/Sport"),Match=require("../models/Match");exports.getDashboardStats=async(t,e)=>{try{const t=new Date;t.setHours(0,0,0,0);const s=new Date;s.setHours(23,59,59,999);const a=new Date(t);a.setDate(a.getDate()+1);const o=new Date(s);o.setDate(o.getDate()+1);const[r,c,n,u]=await Promise.all([Sport.countDocuments(),Match.countDocuments({$or:[{isMatchLive:!0},{inplay:!0}]}),Match.countDocuments({event_date:{$gte:t,$lte:s}}),Match.countDocuments({event_date:{$gte:a,$lte:o}})]);e.status(200).json({message:"Dashboard statistics fetched successfully",data:{allSports:r,inPlayCount:c,today:n,tomorrow:u,totalBets:0,totalAmount:0}})}catch(t){console.error("Dashboard error:",t.message),e.status(500).json({message:"Failed to fetch dashboard stats",error:t.message})}};