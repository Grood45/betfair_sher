// @ts-nocheck
const bcrypt=require("bcryptjs"),jwt=require("jsonwebtoken"),User=require("../models/User"),Role=require("../models/Role"),axios=require("axios"),{generateAccessToken:generateAccessToken,generateRefreshToken:generateRefreshToken}=require("../config/jwt");exports.sportList=async(e,t)=>{const s={"X-Application":"fslpapQyGZSmkZW3","X-Authentication":"UAieWoWy1voS1fqhg/r//VKstS7lul6+j7fS7GODp6M=","Content-Type":"application/json"},r=[{jsonrpc:"2.0",method:"SportsAPING/v1.0/listEventTypes",params:{filter:{}},id:1}];try{const e=await axios.post("https://api.betfair.com/exchange/betting/json-rpc/v1",r,{headers:s}),o=e.data[0]?.result||[];console.log(e);const n=o.map((e=>({id:e.eventType.id,name:e.eventType.name,marketCount:e.marketCount})));return t.status(200).json({message:"Event types fetched successfully",eventTypes:n})}catch(e){return console.error("Betfair API error:",e.message),t.status(500).json({message:"Failed to fetch event types from Betfair",error:e.response?.data||e.message})}};